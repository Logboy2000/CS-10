<!DOCTYPE html>
<html>
<style>
    #myCanvas {
        border: 25px solid rgb(0, 0, 0);
    }

   

    h1 {
        text-align: center;
        color: rgb(74, 10, 250);
    }

    h6 {
        text-align: center;
    }

    body {
        background-color: aqua;
    }
</style>
<h1>
    Epic Shapes
</h1>
<h6>
    CLICK FOR MUSIC!
</h6>
<audio id="audio" autoplay loop src="music/Carefree.mp3"></audio>

<head>

    <title>Moving Box</title>
    <script>

        // global variables
        var moveSpeed = 1 //pixels per frame
        var fps = 120
        // drawing
        var canvas
        var ctx
        var id
        // red box
        var redX = 200
        var redY = 100
        var redWidth = 100
        var redHeight = 100
        // red box
        var blueX = 200
        var blueY = 100
        var blueWidth = 100
        var blueHeight = 100
        //Circle Position
        var greenX
        var greenY
        //Circle Dimensions
        var greenRadius = 50;
        var greenStartAngle = 0;
        var greenEndAngle = 2;
        //mouse
        var mouseX
        var mouseY
        var pmouseX = 0
        var pmouseY = 0
        //keybaord
        var keysDown = {};

        function loaded() {
            //code goes here
            canvas = document.getElementById("myCanvas")
            ctx = canvas.getContext("2d")

            // change canvas size
            canvas.width = 500
            canvas.height = 510

            canvas.addEventListener("mousemove", followMouse, false);


            id = setInterval(update, 1000 / fps)
        }//end of loaded


        function update() {
            /*
                Runs 'fps' times per second
                Runs render
                this is where variables change
                user triggered
            */
            let myAudio = document.querySelector('#audio')
            myAudio.play()
            document.onkeydown = checkKey;
            rainbow()

            greenX = mouseX - greenRadius/2
            greenY = mouseY - greenRadius/2

            //redX = redX + moveSpeed
            //redY = redY + moveSpeed

            if (redY + redHeight >= canvas.height) {
                redY = canvas.height - redHeight
            }
            if (redX + redWidth >= canvas.width) {
                redX = canvas.width - redWidth
            }
            if (redX <= 0) {
                redX = 0
            }
            if (redY <= 0) {
                redY = 0
            }











            render()

        }// end of update
        function rainbow() {
            

        }
        function checkKey(e) {

            e = e || window.event;

            if (e.keyCode == '38') {
                redY = redY - moveSpeed//down
            }
            else if (e.keyCode == '40') {
                redY = redY + moveSpeed//up
            }
            else if (e.keyCode == '37') {
                redX = redX - moveSpeed//left
            }
            else if (e.keyCode == '39') {
                redX = redX + moveSpeed//right
            }

        }


        function render() {
            //Draws to the screen
            //Called by the 'update' function

            //draw the BG
            ctx.beginPath()
            ctx.rect(0, 0, canvas.width, canvas.height); // parameters are x,y,width,height
            ctx.closePath()
            ctx.fillStyle = "white";
            ctx.fill();


            // draw a red rectangle
            ctx.beginPath()
            ctx.rect(redX, redY, redWidth, redHeight); // parameters are x,y,width,height
            ctx.closePath()
            ctx.fillStyle = "red";
            ctx.fill();


            //Draw Circle
            ctx.beginPath();
            ctx.arc(greenX, greenY, greenRadius, greenStartAngle, greenEndAngle * Math.PI); // parameters are x,y,radius,starting angle in radians, ending angle in radians, 
            ctx.closePath();
            ctx.fillStyle = "green"
            ctx.fill();

        }// end of render


        function getPosition(event) {// start of getPosition
            /*
                changes the x & y positon for the box to be where you click
                INPUTS
                    event - click event object
                OUTPUTS
                    none
            */
            // assumes canvas is a global variable
            var clickX = event.x;
            var clickY = event.y;
            // adjust x and y to be relative to the canvas	
            clickX -= canvas.offsetLeft;
            clickY -= canvas.offsetTop;
            // adjust for any scrolling
            clickX += window.pageXOffset
            clickY += window.pageYOffset;





        }// end of GetPosition



        function followMouse(e) {
            pmouseX = mouseX
            pmouseY = mouseY
            mouseX = event.x;
            mouseY = event.y;

            //var canvas = document.getElementById("canvas");

            mouseX -= canvas.offsetLeft;
            mouseY -= canvas.offsetTop;
        }

    </script>
</head>



<body onLoad="loaded()">
    <canvas id="myCanvas" width="400" height="400"></canvas>
</body>

</html>